import{r as o,j as e}from"./iframe-6ZUTQY2J.js";import{c as z}from"./utils-DuMXYCiK.js";import{B as w,C,a as S,b as T}from"./CardMetadata-B_vs75E5.js";function I({name:a,avatarUrl:s}){const[t,n]=o.useState(!1);o.useEffect(()=>{n(!1)},[s]);const d=s&&!t;return e.jsx("div",{className:"flex h-8 w-8 items-center justify-center overflow-hidden rounded-full border-2 border-zinc-900 bg-zinc-700",title:a,children:d?e.jsx("img",{src:s,alt:a,className:"h-full w-full object-cover",onError:()=>n(!0)}):e.jsx("span",{className:"text-[10px] text-zinc-500",children:a.charAt(0).toUpperCase()||"?"})})}function m(){return e.jsx("div",{className:"h-8 w-8 animate-pulse rounded-full border-2 border-zinc-900 bg-zinc-700"})}function q({className:a}){return e.jsx("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}const M=S,V=T;function A({title:a,imageUrl:s,messageCount:t,actions:n=[],className:d,isDisabled:u=!1,onClick:p,characterAvatars:i=[],areCharactersLoading:x=!1,showTypeIndicator:j=!1,typeIndicator:v,renderMetadata:f,tags:l=[],summary:h}){const[g,b]=o.useState(!1);o.useEffect(()=>{b(!1)},[s]);const y=s&&!g,N=s&&g;return e.jsxs(w,{className:z("min-h-[320px] w-full border-zinc-700 ring-1 ring-zinc-800",!u&&p&&"hover:ring-zinc-600",d),isDisabled:u,onClick:p,children:[e.jsxs("div",{className:"relative h-48 overflow-hidden bg-zinc-800",children:[y?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:s,alt:a,className:"absolute inset-0 h-full w-full object-cover opacity-80 transition-all duration-700 group-hover:scale-105 group-hover:opacity-90",loading:"lazy",onError:()=>b(!0)}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900 via-zinc-900/40 to-transparent"})]}):N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-6xl font-bold text-zinc-600",children:a.charAt(0).toUpperCase()||"?"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900 to-transparent"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 bg-zinc-800",children:e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(#4f46e5 1px, transparent 1px)",backgroundSize:"16px 16px"}})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900 to-transparent"})]}),e.jsx(C,{actions:n}),j&&e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx("div",{className:"flex items-center gap-1.5 rounded border border-white/10 bg-black/50 px-2 py-1 text-[10px] font-bold text-white backdrop-blur-md",children:v||"SESSION"})}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full p-5",children:e.jsx("h2",{className:"line-clamp-2 h-[3.75rem] text-2xl leading-tight font-bold break-words text-white",children:a})})]}),e.jsx("div",{className:"flex flex-grow flex-col justify-between p-5",children:e.jsxs("div",{className:"space-y-3",children:[l.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.slice(0,3).map((r,c)=>e.jsx("span",{className:"rounded border border-zinc-700/50 bg-zinc-800/80 px-1.5 py-0.5 text-[10px] text-zinc-300",children:r},`${r}-${c}`)),l.length>3&&e.jsxs("span",{className:"rounded border border-zinc-700/50 bg-zinc-800/80 px-1.5 py-0.5 text-[10px] text-zinc-300",children:["+",l.length-3]})]}),h&&e.jsx("p",{className:"line-clamp-2 text-xs leading-relaxed text-zinc-400",children:h}),f?f():t!==void 0&&e.jsx("div",{className:"flex items-center justify-between text-sm",children:t===0?e.jsx("span",{className:"text-zinc-400",children:"New session"}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4 text-zinc-500"}),e.jsx("span",{className:"font-semibold text-zinc-300",children:t.toLocaleString()}),e.jsx("span",{className:"text-zinc-400",children:t===1?"Message":"Messages"})]})}),(x||i.length>0)&&e.jsx("div",{className:"border-t border-zinc-800 pt-3",children:x?e.jsxs("div",{className:"flex -space-x-2",children:[e.jsx(m,{}),e.jsx(m,{}),e.jsx(m,{})]}):e.jsxs("div",{className:"flex -space-x-2",children:[i.slice(0,3).map((r,c)=>e.jsx(I,{name:r.name,avatarUrl:r.avatarUrl},`${r.name}-${c}`)),i.length>3&&e.jsxs("div",{className:"flex h-8 w-8 items-center justify-center rounded-full border-2 border-zinc-900 bg-zinc-800 text-[10px] text-zinc-500",children:["+",i.length-3]})]})})]})})]})}A.__docgenInfo={description:"",methods:[],displayName:"SessionCard",props:{title:{required:!0,tsType:{name:"string"},description:"Session title"},imageUrl:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"Cover image URL"},messageCount:{required:!1,tsType:{name:"number"},description:"Number of messages in the session (used in default metadata)"},actions:{required:!1,tsType:{name:"Array",elements:[{name:"CardAction"}],raw:"CardAction[]"},description:"Action buttons displayed on the card",defaultValue:{value:"[]",computed:!1}},className:{required:!1,tsType:{name:"string"},description:"Additional CSS classes"},isDisabled:{required:!1,tsType:{name:"boolean"},description:"Whether the card is disabled",defaultValue:{value:"false",computed:!1}},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Click handler for the card"},characterAvatars:{required:!1,tsType:{name:"Array",elements:[{name:"CharacterAvatar"}],raw:"CharacterAvatar[]"},description:"Character avatars to display",defaultValue:{value:"[]",computed:!1}},areCharactersLoading:{required:!1,tsType:{name:"boolean"},description:"Whether characters are loading",defaultValue:{value:"false",computed:!1}},showTypeIndicator:{required:!1,tsType:{name:"boolean"},description:"Whether to show the type indicator badge",defaultValue:{value:"false",computed:!1}},typeIndicator:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Custom content for the type indicator badge (icon and/or text)"},renderMetadata:{required:!1,tsType:{name:"signature",type:"function",raw:"() => React.ReactNode",signature:{arguments:[],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:`Custom render function for the metadata section.
When provided, replaces the default messageCount display.
Use CardMetadataContainer and CardMetadataItem for consistent styling.`},tags:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"Tags to display on the card",defaultValue:{value:"[]",computed:!1}},summary:{required:!1,tsType:{name:"string"},description:"Session summary/description"}}};export{M,A as S,V as a};
