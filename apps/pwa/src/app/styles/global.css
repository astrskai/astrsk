@import url("https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&family=Pragati+Narrow:wght@400;700&display=swap");

/* Dockview core styles */
@import "dockview-core/dist/styles/dockview.css";

@import "tailwindcss";
@import "tw-animate-css";

@theme {
  /* Fonts - literal values, no var() references */
  --font-plus-jakarta-sans: "Plus Jakarta Sans";
  --font-inter: "Inter";
  --font-pragati-narrow: "Pragati Narrow";
  --font-fira-code: "Fira Code";

  /* Special alpha colors - literal values */
  --color-alpha-80: rgba(128, 128, 128, 0.8);

  /* Astrsk renewed colors start */

  /* Foundation colors */
  /* Blue colors */
  --color-blue-100: #b9e4fb;
  --color-blue-200: #98d7f9;
  --color-blue-300: #68c5f6;

  /* Gray colors */
  --color-gray-50: #f1f1f1;
  --color-gray-100: #d4d4d4;
  --color-gray-200: #bfbfbf;
  --color-gray-300: #a1a1a1;
  --color-gray-500: #737373;
  --color-gray-700: #525252;
  --color-gray-800: #3f3f3f;
  --color-gray-900: #303030;

  /* Basic colors */
  --color-black-alternate: #111111;
  --color-dark-surface: #262626;

  /* Semantic colors */
  --color-background-primary: var(--color-dark-surface);

  --color-text-primary: var(--color-gray-50);
  --color-text-secondary: var(--color-gray-200);

  /* Astrsk renewed colors end */
}

@theme inline {
  /* Spacing - topbar and safe area (dynamic references) */
  --spacing-topbar: var(--topbar-height);
  --spacing-safe-top: var(--safe-area-inset-top);
  --spacing-safe-bottom: var(--safe-area-inset-bottom);
  --spacing-safe-left: var(--safe-area-inset-left);
  --spacing-safe-right: var(--safe-area-inset-right);

  /* Inset/Position utilities */
  --inset-topbar: var(--topbar-height);

  /* Core colors - shadcn/ui compatible */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  /* Chart colors */
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  /* Sidebar colors */
  --color-sidebar-background: var(--sidebar-background);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  /* Background colors */
  --color-background-surface-0: var(--background-surface-0);
  --color-background-surface-1: var(--background-surface-1);
  --color-background-surface-2: var(--background-surface-2);
  --color-background-surface-3: var(--background-surface-3);
  --color-background-surface-4: var(--background-surface-4);
  --color-background-surface-5: var(--background-surface-5);
  --color-background-surface-10: var(--background-surface-10);
  --color-background-surface-light: var(--background-surface-light);
  --color-background-card: var(--background-card);
  --color-background-container: var(--background-container);
  --color-background-dialog: var(--background-dialog);
  --color-background-input: var(--background-input);
  --color-background-screen: var(--background-screen);
  --color-background-screen2: var(--background-screen2);
  --color-background-tooltip: var(--background-tooltip);
  --color-background-user-message: var(--background-user-message);

  /* Border colors */
  --color-border-light: var(--border-light);
  --color-border-dark: var(--border-dark);
  --color-border-normal: var(--border-normal);
  --color-border-black: var(--border-black);
  --color-border-selected-primary: var(--border-selected-primary);
  --color-border-selected-secondary: var(--border-selected-secondary);
  --color-border-selected-inverse: var(--border-selected-inverse);
  --color-border-divider: var(--border-divider);
  --color-border-container: var(--border-container);

  /* Button colors */
  --color-button-background-primary: var(--button-background-primary);
  --color-button-foreground-primary: var(--button-foreground-primary);
  --color-button-background-disabled: var(--button-background-disabled);
  --color-button-foreground-disabled: var(--button-foreground-disabled);
  --color-button-background-secondary: var(--button-background-secondary);
  --color-button-foreground-secondary: var(--button-foreground-secondary);
  --color-button-background-floating: var(--button-background-floating);
  --color-button-chips: var(--button-chips);

  /* Text colors */
  --color-text-body: var(--text-body);
  --color-text-subtle: var(--text-subtle);
  --color-text-placeholder: var(--text-placeholder);
  --color-text-info: var(--text-info);
  --color-text-contrast-text: var(--text-contrast-text);
  --color-text-muted-title: var(--text-muted-title);
  --color-text-input-subtitle: var(--text-input-subtitle);
  --color-text-user-message: var(--text-user-message);

  /* Primary colors */
  --color-primary-normal: var(--primary-normal);
  --color-primary-strong: var(--primary-strong);
  --color-primary-heavy: var(--primary-heavy);
  --color-primary-semi-dark: var(--primary-semi-dark);
  --color-primary-dark: var(--primary-dark);

  /* Secondary colors */
  --color-secondary-normal: var(--secondary-normal);
  --color-secondary-heavy: var(--secondary-heavy);

  /* Status colors */
  --color-status-destructive-light: var(--status-destructive-light);
  --color-status-destructive: var(--status-destructive);
  --color-status-destructive-dark: var(--status-destructive-dark);
  --color-status-optional: var(--status-optional);
  --color-status-required: var(--status-required);
  --color-status-ready: var(--status-ready);
  --color-status-ready-dark: var(--status-ready-dark);
  --color-status-succeed: var(--status-succeed);
  --color-status-syncing: var(--status-syncing);
  --color-status-warning-dark: var(--status-warning-dark);
  --color-status-warning-light: var(--status-warning-light);
  --color-status-warning: var(--status-warning);

  /* Color palette - Blue */
  --color-blue-50: var(--color-blue-50);
  --color-blue-500: var(--color-blue-500);
  --color-blue-700: var(--color-blue-700);
  --color-blue-800: var(--color-blue-800);

  /* Color palette - Purple */
  --color-purple-200: var(--color-purple-200);

  /* Color palette - Yellow */
  --color-yellow-800: var(--color-yellow-800);

  /* Agent colors - 300 shades (used in color assignment) */
  --color-indigo-300: var(--indigo-300);
  --color-orange-300: var(--orange-300);
  --color-lime-300: var(--lime-300);
  --color-red-300: var(--red-300);
  --color-amber-300: var(--amber-300);
  --color-cyan-300: var(--cyan-300);
  --color-fuchsia-300: var(--fuchsia-300);
  --color-yellow-300: var(--yellow-300);
  --color-violet-300: var(--violet-300);
  --color-green-300: var(--green-300);
  --color-rose-300: var(--rose-300);
  --color-sky-300: var(--sky-300);
  --color-pink-300: var(--pink-300);
  --color-emerald-300: var(--emerald-300);
  --color-purple-300: var(--purple-300);
  --color-teal-300: var(--teal-300);
}

:root {
  /* Topbar height for layout calculations */
  --topbar-height: 38px; /* Default for Electron environment */

  --background: hsl(0 0% 3.9%);
  --foreground: hsl(0 0% 98%);
  --card: hsl(0 0% 3.9%);
  --card-foreground: hsl(0 0% 98%);
  --popover: hsl(0 0% 3.9%);
  --popover-foreground: hsl(0 0% 98%);
  --primary: hsl(0 0% 98%);
  --primary-foreground: hsl(0 0% 9%);
  --secondary: hsl(0 0% 14.9%);
  --secondary-foreground: hsl(0 0% 98%);
  --muted: hsl(0 0% 14.9%);
  --muted-foreground: hsl(0 0% 63.9%);
  --accent: hsl(0 0% 14.9%);
  --accent-foreground: hsl(0 0% 98%);
  --destructive: hsl(0 62.8% 30.6%);
  --destructive-foreground: hsl(0 0% 98%);
  --border: hsl(0 0% 14.9%);
  --input: hsl(0 0% 14.9%);
  --ring: hsl(0 0% 83.1%);
  --chart-1: hsl(220 70% 50%);
  --chart-2: hsl(160 60% 45%);
  --chart-3: hsl(30 80% 55%);
  --chart-4: hsl(280 65% 60%);
  --chart-5: hsl(340 75% 55%);
  --sidebar-background: hsl(240 5.9% 10%);
  --sidebar-foreground: hsl(240 4.8% 95.9%);
  --sidebar-primary: hsl(224.3 76.3% 48%);
  --sidebar-primary-foreground: hsl(0 0% 100%);
  --sidebar-accent: hsl(240 3.7% 15.9%);
  --sidebar-accent-foreground: hsl(240 4.8% 95.9%);
  --sidebar-border: hsl(240 3.7% 15.9%);
  --sidebar-ring: hsl(217.2 91.2% 59.8%);

  /* astrsk 2.0 colors */
  --color-basic-darksurface: #1b1b1b;

  --color-blue-50: #e9f6fe;
  --color-blue-500: #1ea9f2;
  --color-blue-700: #1578ac;
  --color-blue-800: #115d85;

  --color-purple-200: #b59eff;

  --color-destructive-light: #dc2626;
  --color-destructive-dark: #7f1d1d;

  --color-yellow-800: #854d0e;

  /* Existing background colors */
  --background-card: #37404c;
  --background-container: #2a313a;
  --background-dialog: #64748b;
  --background-input: #475263;
  --background-screen: #111111;
  --background-screen2: #1b1b1b;
  --background-tooltip: #0d4766;
  --background-user-message: #e9f6fe;

  /* New background colors */
  --background-surface-0: #111111;
  --background-surface-1: #1b1b1b;
  --background-surface-2: #272727;
  --background-surface-3: #313131;
  --background-surface-4: #414141;
  --background-surface-5: #757575;
  --background-surface-10: #1b1b1b;
  --background-surface-light: #e9f6fe;

  /* Existing border colors */
  --border-container: #64748b;
  --border-divider: #37404c;

  /* New border colors */
  --border-light: #757575;
  --border-dark: #313131;
  --border-normal: #525252;
  --border-black: #1b1b1b;
  --border-selected-primary: #98d7f9;
  --border-selected-secondary: #1ea9f2;
  --border-selected-inverse: #f1f1f1;

  /* Existing button colors */
  --button-background-primary: #98d7f9;
  --button-foreground-primary: #0d4766;
  --button-background-disabled: #414141;
  --button-foreground-disabled: #757575;
  --button-background-secondary: #b59eff;
  --button-foreground-secondary: #27136b;

  /* New button colors */
  --button-background-floating: #313131;
  --button-chips: #414141;

  /* Existing text colors */
  --text-info: #696969;
  --text-input-subtitle: #97a2b1;
  --text-muted-title: #d4d4d4;
  --text-placeholder: #a1a1a1;
  --text-user-message: #3f3f3f;

  /* New text colors */
  --text-body: #bfbfbf;
  --text-subtle: #9d9d9d;
  --text-contrast-text: #3f3f3f;

  /* Existing primary colors */
  --primary-heavy: #1ea9f2;
  --primary-normal: #98d7f9;
  --primary-strong: #68c5f6;
  --primary-dark: #115d85;
  --primary-semi-dark: #1578ac;

  /* Existing secondary colors */
  --secondary-heavy: #27136b;
  --secondary-normal: #b59eff;

  /* Existing status colors */
  --status-destructive: #7f1d1d;
  --status-destructive-dark: #450a0a;
  --status-destructive-light: #dc2626;
  --status-destructive-primary: #dc2626;
  --status-warning: #a16207;
  --status-optional: #a1ece7;
  --status-required: #b59eff;

  /* New status colors */
  --status-warning-light: #a16207;
  --status-warning-dark: #854d0e;
  --status-syncing: #1ea9f2;
  --status-succeed: #2ec2b9;
  --status-ready: #0d9488;
  --status-ready-dark: #1578ac;

  /* iOS Safe Area Variables */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
}

/* Block landscape mode with message */
/* @media screen and (orientation: landscape) and (max-width: 990px) {
  #root {
    display: none;
  }

  body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--background-screen);
    z-index: 9999;
  }

  body::after {
    content: "Landscape mode is not supported";
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--text-primary);
    font-size: 18px;
    font-family: var(--font-inter);
    text-align: center;
    z-index: 10000;
    padding: 28px;
    background-color: var(--background-container);
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    max-width: 80%;
    line-height: 1.5;
  }
} */

.dark {
  --background: hsl(0 0% 3.9%);
  --foreground: hsl(0 0% 98%);
  --card: hsl(0 0% 3.9%);
  --card-foreground: hsl(0 0% 98%);
  --popover: hsl(0 0% 3.9%);
  --popover-foreground: hsl(0 0% 98%);
  --primary: hsl(0 0% 98%);
  --primary-foreground: hsl(0 0% 9%);
  --secondary: hsl(0 0% 14.9%);
  --secondary-foreground: hsl(0 0% 98%);
  --muted: hsl(0 0% 14.9%);
  --muted-foreground: hsl(0 0% 63.9%);
  --accent: hsl(0 0% 14.9%);
  --accent-foreground: hsl(0 0% 98%);
  --destructive: hsl(0 62.8% 30.6%);
  --destructive-foreground: hsl(0 0% 98%);
  --border: hsl(0 0% 14.9%);
  --input: hsl(0 0% 14.9%);
  --ring: hsl(0 0% 83.1%);
  --chart-1: hsl(220 70% 50%);
  --chart-2: hsl(160 60% 45%);
  --chart-3: hsl(30 80% 55%);
  --chart-4: hsl(280 65% 60%);
  --chart-5: hsl(340 75% 55%);
  --sidebar-background: hsl(240 5.9% 10%);
  --sidebar-foreground: hsl(240 4.8% 95.9%);
  --sidebar-primary: hsl(224.3 76.3% 48%);
  --sidebar-primary-foreground: hsl(0 0% 100%);
  --sidebar-accent: hsl(240 3.7% 15.9%);
  --sidebar-accent-foreground: hsl(240 4.8% 95.9%);
  --sidebar-border: hsl(240 3.7% 15.9%);
  --sidebar-ring: hsl(217.2 91.2% 59.8%);

  /* Existing background colors */
  --background-card: #37404c;
  --background-container: #2a313a;
  --background-dialog: #64748b;
  --background-input: #475263;
  --background-screen: #111111;
  --background-screen2: #1b1b1b;
  --background-tooltip: #0d4766;
  --background-user-message: #e9f6fe;

  /* New background colors */
  --background-surface-0: #111111;
  --background-surface-1: #1b1b1b;
  --background-surface-2: #272727;
  --background-surface-3: #313131;
  --background-surface-4: #414141;
  --background-surface-5: #757575;
  --background-surface-10: #1b1b1b;
  --background-surface-light: #e9f6fe;

  /* Existing border colors */
  --border-container: #64748b;
  --border-divider: #37404c;

  /* New border colors */
  --border-light: #757575;
  --border-dark: #313131;
  --border-normal: #525252;
  --border-black: #1b1b1b;
  --border-selected-primary: #98d7f9;
  --border-selected-secondary: #1ea9f2;
  --border-selected-inverse: #f1f1f1;

  /* Existing button colors */
  --button-background-primary: #98d7f9;
  --button-foreground-primary: #0d4766;
  --button-background-disabled: #414141;
  --button-foreground-disabled: #757575;
  --button-background-secondary: #b59eff;
  --button-foreground-secondary: #27136b;

  /* New button colors */
  --button-background-floating: #313131;
  --button-chips: #414141;

  /* Existing text colors */
  --text-info: #696969;
  --text-input-subtitle: #97a2b1;
  --text-muted-title: #d4d4d4;
  --text-placeholder: #a1a1a1;
  --text-user-message: #3f3f3f;

  /* New text colors */
  --text-body: #bfbfbf;
  --text-subtle: #9d9d9d;
  --text-contrast-text: #3f3f3f;

  /* Existing primary colors */
  --primary-heavy: #1ea9f2;
  --primary-normal: #98d7f9;
  --primary-strong: #68c5f6;
  --primary-dark: #115d85;
  --primary-semi-dark: #1578ac;

  /* Existing secondary colors */
  --secondary-heavy: #27136b;
  --secondary-normal: #b59eff;

  /* Existing status colors */
  --status-destructive: #7f1d1d;
  --status-destructive-dark: #450a0a;
  --status-destructive-light: #dc2626;
  --status-destructive-primary: #dc2626;
  --status-warning: #a16207;
  --status-optional: #a1ece7;
  --status-required: #b59eff;

  /* New status colors */
  --status-warning-light: #a16207;
  --status-warning-dark: #854d0e;
  --status-syncing: #1ea9f2;
  --status-succeed: #2ec2b9;

  /* Agent colors - 300 shades only (800 shades unused) */
  --indigo-300: #a5b4fc;
  --orange-300: #fdba74;
  --lime-300: #bef264;
  --red-300: #fca5a5;
  --amber-300: #fcd34d;
  --cyan-300: #67e8f9;
  --fuchsia-300: #f0abfc;
  --yellow-300: #fde047;
  --violet-300: #c4b5fd;
  --green-300: #86efac;
  --rose-300: #fda4af;
  --sky-300: #7dd3fc;
  --pink-300: #f9a8d4;
  --emerald-300: #6ee7b7;
  --purple-300: #d8b4fe;
  --teal-300: #5eead4;
}

/* Custom Variants */
@variant has-value (&:not(:placeholder-shown));
@variant no-value (&:placeholder-shown);

/* Custom Animations */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes tab-focus {
  0% {
    opacity: 0;
    border-color: rgba(255, 255, 255, 0);
  }
  50% {
    opacity: 1;
    border-color: rgba(255, 255, 255, 1);
  }
  100% {
    opacity: 0;
    border-color: rgba(255, 255, 255, 0);
  }
}

/* Custom Utilities - must be at top level, cannot be nested in @layer */
@utility h-screen-minus-topbar {
  height: calc(100vh - var(--topbar-height));
}

@utility h-screen-minus-topbar-dv {
  height: calc(100dvh - var(--topbar-height));
}

@utility h-screen-minus-topbar-sv {
  height: calc(100svh - var(--topbar-height));
}

@utility animate-spin {
  animation: spin 1s linear infinite;
}

@utility animate-spin-slow {
  animation: spin 3s linear infinite;
}

@utility animate-tab-focus {
  animation: tab-focus 2s ease-in-out;
}

@layer base {
  * {
    border-color: var(--border);
  }
  html {
    overscroll-behavior: none;
    touch-action: manipulation;
  }
  body {
    color: var(--foreground);
    background-color: var(--color-background-primary);
    font-family:
      var(--font-inter),
      -apple-system,
      BlinkMacSystemFont,
      "Segoe UI",
      Roboto,
      "Helvetica Neue",
      Arial,
      sans-serif;
  }

  /* Remove textarea resizer */
  textarea.no-resizer::-webkit-resizer {
    display: none;
  }

  textarea {
    scrollbar-color: var(--background-input) transparent;
    resize: none;
  }

  /* Markdown */
  .markdown {
    /* List styles */
    ul {
      list-style-type: disc;
      padding-left: 1.5em;
      margin: 0.5em 0;
    }
    ol {
      list-style-type: decimal;
      padding-left: 1.5em;
      margin: 0.5em 0;
    }
    li {
      margin: 0.25em 0;
    }
    /* Nested lists */
    ul ul {
      list-style-type: circle;
    }
    ul ul ul {
      list-style-type: square;
    }
    /* Horizontal rule */
    hr {
      border: none;
      border-top: 1px solid var(--border-light);
      margin: 1em 0;
    }
  }

  /* Default message styling */
  .ai-chat-style {
    .chat-style-text {
      font-size: 16px;
      color: var(--text-muted-title);
      overflow-x: hidden;
      p + p {
        margin-top: 1em;
      }
    }
    .chat-style-chat-bubble {
      background-color: var(--background-card);
    }
    .message-buttons,
    textarea {
      font-size: 16px;
      color: var(--text-muted-title);
    }
  }
  .user-chat-style {
    .chat-style-text {
      font-size: 16px;
      color: var(--text-user-message);
      overflow-x: hidden;
      p + p {
        margin-top: 1em;
      }
    }
    .chat-style-chat-bubble {
      background-color: var(--background-user-message);
    }
    .message-buttons,
    textarea {
      font-size: 16px;
      color: var(--text-user-message);
    }
  }

  .electron-drag-region {
    -webkit-app-region: drag;
    app-region: drag;
  }

  /* Make sure interactive elements inside drag region are not draggable */
  .electron-drag-region button,
  .electron-drag-region a,
  .electron-drag-region input,
  .electron-drag-region [role="button"] {
    -webkit-app-region: no-drag;
    app-region: no-drag;
  }

  /* iOS Safe Area Utilities */
  .safe-area-top {
    padding-top: var(--safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: var(--safe-area-inset-bottom);
  }

  .safe-area-left {
    padding-left: var(--safe-area-inset-left);
  }

  .safe-area-right {
    padding-right: var(--safe-area-inset-right);
  }

  .safe-area-x {
    padding-left: var(--safe-area-inset-left);
    padding-right: var(--safe-area-inset-right);
  }

  .safe-area-y {
    padding-top: var(--safe-area-inset-top);
    padding-bottom: var(--safe-area-inset-bottom);
  }

  .safe-area-all {
    padding-top: var(--safe-area-inset-top);
    padding-right: var(--safe-area-inset-right);
    padding-bottom: var(--safe-area-inset-bottom);
    padding-left: var(--safe-area-inset-left);
  }

  /* iOS Status Bar Background - extends navigation color into safe area */
  .ios-status-bar-bg {
    background: linear-gradient(
      to bottom,
      var(--background-card) var(--safe-area-inset-top),
      transparent var(--safe-area-inset-top)
    );
  }

  /* Disable iOS context menu on images */
  img {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    pointer-events: auto;
  }

  /* Disable iOS context menu on all elements by default */
  * {
    -webkit-touch-callout: none;
  }

  /* Re-enable context menu for interactive elements where it might be needed */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="search"],
  input[type="url"],
  textarea {
    -webkit-touch-callout: default;
    -webkit-user-select: text;
    -khtml-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
  }

  /* Consolidated Dockview styles */
  .dockview-theme-abyss {
    --dv-separator-border: var(--background-surface-0, #1b1b1b) !important;
    --dv-sash-color: var(
      --background-surface-0,
      #1b1b1b
    ) !important; /* visible sash color */
    --dv-active-sash-color: var(
      --background-surface-0,
      #1b1b1b
    ) !important; /* hover/active color (abyss accent) */
  }

  /* Tab containers */
  .dockview-theme-abyss .dv-tab {
    padding: 0 !important;
  }

  /* Tab Coloring */
  /* Maximum specificity override for tab backgrounds and borders */
  .dockview-theme-abyss .dv-groupview .dv-tabs-container .dv-tab {
    background-color: var(--background-surface-1) !important;
  }

  .dockview-theme-abyss .dv-groupview .dv-tabs-container .dv-tab.dv-active-tab {
    background-color: var(--background-surface-2) !important;
  }

  /* Void container and backgrounds */
  .dockview-theme-abyss .dv-void-container {
    background-color: var(--background-surface-0) !important;
  }

  /* Prevent Dockview from growing beyond screen size */
  .dv-grid-view.dv-dockview {
    max-height: 100vh !important;
    max-width: 100vw !important;
    overflow: hidden !important;
  }

  /* Prevent variable panels from getting focus */
  [data-panel-id*="variable"] .dv-tab,
  [data-panel-id*="variable"] .dv-tab-content {
    pointer-events: none !important;
  }

  /* Remove Monaco Editor focus border */
  .monaco-editor .monaco-editor-background,
  .monaco-editor .inputarea.ime-input,
  .monaco-editor .margin,
  .monaco-editor {
    outline: none !important;
  }

  /* Remove focus outline from the editor container */
  .monaco-editor-container:focus {
    outline: none !important;
  }

  /* Remove focus outline from textarea elements within Monaco */
  .monaco-editor textarea:focus {
    outline: none !important;
  }

  /* Remove all focus outlines in Monaco Editor */
  .monaco-editor *:focus {
    outline: none !important;
    box-shadow: none !important;
  }

  /* Specific targeting for input areas */
  .monaco-editor .inputarea:focus,
  .monaco-editor .monaco-scrollable-element:focus {
    outline: none !important;
  }

  /* Force editor content to use full width */
  .monaco-editor .overflow-guard {
    width: 100% !important;
  }

  /* Ensure the editor view lines use full width */
  .monaco-editor .view-lines {
    width: 100% !important;
  }

  /* Make sure the editor content expands */
  .monaco-editor .monaco-scrollable-element.editor-scrollable {
    width: 100% !important;
  }

  /* Target the editor's main content area */
  .monaco-editor .monaco-editor-background {
    width: 100% !important;
  }

  /* If you have a specific container class */
  .monaco-editor-container .monaco-editor {
    width: 100% !important;
  }

  /* Remove any right margin that might be reserved for minimap */
  .monaco-editor
    .overflow-guard
    > .monaco-scrollable-element
    > .monaco-editor-background
    > .margin {
    width: 100% !important;
  }

  /* Embla carousel */
  .embla {
    overflow: hidden;
  }
  .embla__container {
    display: flex;
  }
  .embla__slide {
    flex: 0 0 100%;
    min-width: 0;
  }

  /* Onboarding screen carausel */
  .embla-onboarding .embla__slide {
    flex: 0 0 304px;
    min-width: 0;
    min-height: 171px;
  }

  /* Onboarding screen carausel */
  .embla-subscription-nudge .embla__slide {
    flex: 0 0 284px;
    min-width: 0;
    min-height: 213px;
  }

  /* Custom session scrollbar with transparent background */
  .session-scrollbar::-webkit-scrollbar {
    width: 8px;
  }

  .session-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .session-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 4px;
  }

  .session-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.5);
  }

  /* Firefox scrollbar */
  .session-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.3) transparent;
  }
}

/* Web version specific overrides */
.web-version {
  --topbar-height: 0px !important; /* No topbar in web browser */
}

/* Also set on root when body has web-version class */
:root:has(body.web-version) {
  --topbar-height: 0px !important;
}
